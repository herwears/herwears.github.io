(() => { "use strict"; var e = { d: (t, n) => { for (var o in n) e.o(n, o) && !e.o(t, o) && Object.defineProperty(t, o, { enumerable: !0, get: n[o] }) }, o: (e, t) => Object.prototype.hasOwnProperty.call(e, t) }; e.d({}, { P: () => N }); const t = (e, t, n) => { const o = document.createElement(e); return t && Object.entries(t).forEach((([t, n]) => { "dataset" === t && "button" === e ? Object.entries(n).forEach((([e, t]) => { o.dataset[e] = t })) : t in o ? o[t] = n : o.setAttribute(t, String(n)) })), n && n.forEach((e => { "string" == typeof e ? e.trim().startsWith("<") ? o.insertAdjacentHTML("beforeend", e) : o.append(e) : o.appendChild(e) })), o }, n = e => (n, o, a) => "string" == typeof n ? t(e, { className: n }, o) : Array.isArray(o) || !o ? t(e, n, o) : t(e, o, a), o = (e, n) => t("img", e, n), a = e => Object.fromEntries(e.map((e => { return [(t = e, t.charAt(0).toUpperCase() + t.slice(1)), n(e)]; var t }))), { Header: r, Main: s } = a(["header", "main"]), { H1: l, H2: i, H3: c, H4: d, H5: u, H6: m } = a(["h1", "h2", "h3", "h4", "h5", "h6"]), { P: g, B: h } = a(["p", "b"]), { Div: b, Span: p } = a(["div", "span"]), { Input: f, Textarea: y, Button: x } = a(["input", "textarea", "button"]), { Details: v, Summary: w } = a(["details", "summary"]), { Small: k, Br: L } = a(["small", "br"]), { Table: j, Thead: T, Tbody: E, Tfoot: M, Tr: S, Td: H, Th: O, Label: C } = a(["table", "thead", "tbody", "tfoot", "tr", "td", "th", "label"]), q = e => { const n = N.modalProduct.messages; return Object.entries(N.modalProduct.list).map((([o, { name: a, color: r }]) => { return s = Object.assign(Object.assign({ className: "block w-full text-center py-2 rounded-lg " + (e[o] ? `text-white transition ${r}` : "bg-gray-300 text-gray-500 cursor-not-allowed"), href: e[o] || "#" }, e[o] ? { target: "_blank" } : { onclick: () => !1 }), { textContent: (e[o] ? n.seeAt : n.notAvailable).replace("[TITLE]", a) }), t("a", s, undefined); var s })) }, A = e => document.querySelector(`[data-js="${e}"]`), B = () => { const e = A("container-background"), t = A("container-header"), n = A("header_button--profile"); var o; o = !(((null == e ? void 0 : e.getBoundingClientRect().bottom) || 0) - 100 >= ((null == t ? void 0 : t.getBoundingClientRect().bottom) || 0)), null == t || t.classList.toggle("border-transparent", !o), null == t || t.classList.toggle("bg-white/80", o), null == t || t.classList.toggle("border-gray-200", o), null == t || t.classList.toggle("backdrop-blur-xs", o), null == n || n.classList.toggle("hidden", !o) }; const N = window.setting; function P(e) { return `\n    <div class="relative bg-gray-200 rounded-lg aspect-square overflow-hidden">\n      <img class="w-full h-full object-cover" src="${e.image}" alt="${e.name}">\n      <span class="font-semibold text-sm text-center absolute bg-white m-1 p-1 rounded-md bottom-0 inset-x-0">\n        ${e.price}\n      </span>\n    </div>\n  ` } document.body.addEventListener("click", (e => { const t = e.target; if (!t) return; const n = t.closest("[data-js='product:modalClick']"); if (n instanceof HTMLElement) { const e = A("product:modalContent"), t = document.getElementById("inModal--product"); if (t && e && n.dataset.content) { const a = JSON.parse(n.dataset.content); e.innerHTML = "", e.append((e => { const { image: t, name: n, rating: a, sales: r, link: s } = e, l = N.messages.quantitySold.replace("[NUMBER]", String(r)); return b("flex w-full overflow-hidden flex-col gap-4", [b("relative", [b("bg-gray-800 flex place-center aspect-3/2 overflow-hidden rounded-lg", [o({ className: "object-cover opacity-80", src: t, alt: n }), b("absolute bg-white p-2 gap-x-8 rounded-md flex bottom-1.5 inset-x-1.5 font-semibold justify-between", [m("font-semibold text-base leading-7 text-black truncate", [n]), b("flex items-center space-x-2 text-xs", [p("font-semibold text-gray-800 whitespace-nowrap", [l]), b("flex items-center space-x-1 bg-yellow-400 text-white px-2 py-1 rounded-full ml-2", ['<svg class="w-3.5 h-3.5 text-white" width="100%" height="100%"><use xlink:href="#i.rating"></use></svg>', p("", [a])])])])]), C({ className: "w-7 h-7 flex place-center bg-white font-semibold cursor-pointer rounded-md absolute left-1.5 top-1.5", for: "inModal--comingSoon" }, ['<svg class="w-3.5 h-3.5" width="100%" height="100%"><use xlink:href="#i.bookmark"></use></svg>']), C({ className: "w-7 h-7 flex place-center bg-white font-semibold cursor-pointer rounded-md absolute right-1.5 top-1.5", for: "inModal--product" }, ["âœ•"])]), b("grid grid-cols-1 gap-1.5 px-1.5", q(s)), b("inModal__footer", [b("text-center", [g("text-sm text-gray-500 mb-2", ["Share link"]), b("flex justify-center gap-4", [x({ className: "text-blue-500 hover:text-blue-700", onClick: () => navigator.clipboard.writeText("http://127.0.0.1:4000/collections/topi/#KMJ_002") }, ["Copy link"])])])])]) })(a)), t.checked = !t.checked } } })), document.addEventListener("DOMContentLoaded", (() => function (e, t, n, o) { return new (n || (n = Promise))((function (a, r) { function s(e) { try { i(o.next(e)) } catch (e) { r(e) } } function l(e) { try { i(o.throw(e)) } catch (e) { r(e) } } function i(e) { var t; e.done ? a(e.value) : (t = e.value, t instanceof n ? t : new n((function (e) { e(t) }))).then(s, l) } i((o = o.apply(e, t || [])).next()) })) }(void 0, void 0, void 0, (function* () { const e = document.querySelectorAll("[data-ref]"); try { const t = yield fetch("/api/product.json"), n = yield t.json(); console.log({ data: n }), e.forEach((e => { const t = e.dataset.ref, o = n[t || ""] || []; if (console.log({ produkList: o }), !o.length) return; const a = (r = o, [...r].sort((() => Math.random() - .5))).slice(0, 3); var r; const s = e.querySelector(".grid"); s && (s.innerHTML = a.map(P).join("")) })) } catch (e) { console.error("Gagal memuat data produk:", e) } })))), ((e = 3e3, t = "z-9") => { const n = window.location.hash; if (!n) return; const o = n.slice(1), a = document.getElementById(o); a && (document.body.classList.add("has-unique-link"), a.classList.add(t), a.scrollIntoView({ behavior: "smooth", block: "center" }), setTimeout((() => { document.body.classList.remove("has-unique-link"), a.classList.remove(t) }), e)) })(), B(), (() => { const e = document.querySelector("[data-js='header_button--back']"); e && e.addEventListener("click", (() => { history.length > 1 && document.referrer.startsWith(location.origin) ? history.back() : location.href = "/" })) })(), window.addEventListener("scroll", B) })();